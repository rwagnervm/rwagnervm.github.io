import{e as v}from"./mat3f64.4564d6a3.js";import{e as I}from"./quatf64.bcd5b590.js";import{cb as b,h9 as O,hc as g,ie as S,he as T,K as Y,an as x,cc as K}from"./index.7eb0daf2.js";import{a as W,s as X,o as Z,m as k,j as w,_ as B,q as C,p as D,y as F,E as G,L as H}from"./vec42.faaf2b1c.js";function J(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function A(a,o,c){c*=.5;const e=Math.sin(c);return a[0]=e*o[0],a[1]=e*o[1],a[2]=e*o[2],a[3]=Math.cos(c),a}function N(a,o){const c=2*Math.acos(o[3]),e=Math.sin(c/2);return e>b()?(a[0]=o[0]/e,a[1]=o[1]/e,a[2]=o[2]/e):(a[0]=1,a[1]=0,a[2]=0),c}function j(a,o,c){const e=o[0],r=o[1],s=o[2],t=o[3],i=c[0],u=c[1],n=c[2],h=c[3];return a[0]=e*h+t*i+r*n-s*u,a[1]=r*h+t*u+s*i-e*n,a[2]=s*h+t*n+e*u-r*i,a[3]=t*h-e*i-r*u-s*n,a}function Q(a,o,c){c*=.5;const e=o[0],r=o[1],s=o[2],t=o[3],i=Math.sin(c),u=Math.cos(c);return a[0]=e*u+t*i,a[1]=r*u+s*i,a[2]=s*u-r*i,a[3]=t*u-e*i,a}function R(a,o,c){c*=.5;const e=o[0],r=o[1],s=o[2],t=o[3],i=Math.sin(c),u=Math.cos(c);return a[0]=e*u-s*i,a[1]=r*u+t*i,a[2]=s*u+e*i,a[3]=t*u-r*i,a}function U(a,o,c){c*=.5;const e=o[0],r=o[1],s=o[2],t=o[3],i=Math.sin(c),u=Math.cos(c);return a[0]=e*u+r*i,a[1]=r*u-e*i,a[2]=s*u+t*i,a[3]=t*u-s*i,a}function V(a,o){const c=o[0],e=o[1],r=o[2];return a[0]=c,a[1]=e,a[2]=r,a[3]=Math.sqrt(Math.abs(1-c*c-e*e-r*r)),a}function d(a,o,c,e){const r=o[0],s=o[1],t=o[2],i=o[3];let u,n,h,f,l,m=c[0],p=c[1],q=c[2],$=c[3];return n=r*m+s*p+t*q+i*$,n<0&&(n=-n,m=-m,p=-p,q=-q,$=-$),1-n>b()?(u=Math.acos(n),h=Math.sin(u),f=Math.sin((1-e)*u)/h,l=Math.sin(e*u)/h):(f=1-e,l=e),a[0]=f*r+l*m,a[1]=f*s+l*p,a[2]=f*t+l*q,a[3]=f*i+l*$,a}function aa(a){const o=K,c=o(),e=o(),r=o(),s=Math.sqrt(1-c),t=Math.sqrt(c);return a[0]=s*Math.sin(2*Math.PI*e),a[1]=s*Math.cos(2*Math.PI*e),a[2]=t*Math.sin(2*Math.PI*r),a[3]=t*Math.cos(2*Math.PI*r),a}function oa(a,o){const c=o[0],e=o[1],r=o[2],s=o[3],t=c*c+e*e+r*r+s*s,i=t?1/t:0;return a[0]=-c*i,a[1]=-e*i,a[2]=-r*i,a[3]=s*i,a}function ea(a,o){return a[0]=-o[0],a[1]=-o[1],a[2]=-o[2],a[3]=o[3],a}function E(a,o){const c=o[0]+o[4]+o[8];let e;if(c>0)e=Math.sqrt(c+1),a[3]=.5*e,e=.5/e,a[0]=(o[5]-o[7])*e,a[1]=(o[6]-o[2])*e,a[2]=(o[1]-o[3])*e;else{let r=0;o[4]>o[0]&&(r=1),o[8]>o[3*r+r]&&(r=2);const s=(r+1)%3,t=(r+2)%3;e=Math.sqrt(o[3*r+r]-o[3*s+s]-o[3*t+t]+1),a[r]=.5*e,e=.5/e,a[3]=(o[3*s+t]-o[3*t+s])*e,a[s]=(o[3*s+r]+o[3*r+s])*e,a[t]=(o[3*t+r]+o[3*r+t])*e}return a}function ra(a,o,c,e){const r=.5*Math.PI/180;o*=r,c*=r,e*=r;const s=Math.sin(o),t=Math.cos(o),i=Math.sin(c),u=Math.cos(c),n=Math.sin(e),h=Math.cos(e);return a[0]=s*u*h-t*i*n,a[1]=t*i*h+s*u*n,a[2]=t*u*n-s*i*h,a[3]=t*u*h+s*i*n,a}function ca(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}const sa=W,ta=X,ia=Z,ua=j,na=k,ha=w,Ma=B,L=C,fa=L,z=D,la=z,y=F,ma=G,pa=H;function qa(a,o,c){const e=O(o,c);return e<-.999999?(g(M,$a,o),S(M)<1e-6&&g(M,da,o),T(M,M),A(a,M,Math.PI),a):e>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(g(M,o,c),a[0]=M[0],a[1]=M[1],a[2]=M[2],a[3]=1+e,y(a,a))}const M=Y(),$a=x(1,0,0),da=x(0,1,0);function ga(a,o,c,e,r,s){return d(P,o,r,s),d(_,c,e,s),d(a,P,_,2*s*(1-s)),a}const P=I(),_=I();function ya(a,o,c,e){const r=Pa;return r[0]=c[0],r[3]=c[1],r[6]=c[2],r[1]=e[0],r[4]=e[1],r[7]=e[2],r[2]=-o[0],r[5]=-o[1],r[8]=-o[2],y(a,E(a,r))}const Pa=v();Object.freeze(Object.defineProperty({__proto__:null,add:ia,calculateW:V,conjugate:ea,copy:sa,dot:ha,equals:pa,exactEquals:ma,fromEuler:ra,fromMat3:E,getAxisAngle:N,identity:J,invert:oa,len:fa,length:L,lerp:Ma,mul:ua,multiply:j,normalize:y,random:aa,rotateX:Q,rotateY:R,rotateZ:U,rotationTo:qa,scale:na,set:ta,setAxes:ya,setAxisAngle:A,slerp:d,sqlerp:ga,sqrLen:la,squaredLength:z,str:ca},Symbol.toStringTag,{value:"Module"}));export{A as I,ma as N,ea as O,ra as T,ta as X,N as v,j as x};
