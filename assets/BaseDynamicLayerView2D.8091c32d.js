import{G as s,n as p,aa as r,ab as a,ac as m}from"./index.7eb0daf2.js";import{a as n}from"./BitmapContainer.a917eaff.js";import{f as h,y as d}from"./LayerView.649e11dc.js";import{_ as y}from"./ExportStrategy.9a603dd1.js";import{i as c}from"./RefreshableLayerView.6a9401d3.js";import"./WGLContainer.a2728de7.js";import"./definitions.a3a54ed1.js";import"./LabelMetric.267a8b18.js";import"./enums.abef80de.js";import"./Texture.7423fe29.js";import"./enums.8929356b.js";import"./Program.9a92c5ff.js";import"./VertexElementDescriptor.c76e1b24.js";import"./ProgramTemplate.7599c672.js";import"./vec3f32.788be850.js";import"./Container.461c0161.js";import"./highlightReasons.c3e7cabb.js";import"./StyleDefinition.e031dcf6.js";import"./config.8224a140.js";import"./earcut.dc9d94eb.js";import"./featureConversionUtils.c6dfa488.js";import"./OptimizedFeature.32c00f5f.js";import"./OptimizedFeatureSet.6fd3bcb1.js";import"./layerViewUtils.8a0a28d0.js";import"./Bitmap.62f36779.js";let t=class extends c(h(d)){update(e){this._strategy.update(e).catch(i=>{s(i)||p.getLogger(this).error(i)}),this.notifyChange("updating")}attach(){this._bitmapContainer=new n,this.container.addChild(this._bitmapContainer),this._strategy=new y({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}detach(){this._strategy.destroy(),this._strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}viewChange(){}moveEnd(){this.requestUpdate()}fetchBitmapData(e,i,o){return this.layer.fetchImageBitmap(e,i,o)}async doRefresh(){this.requestUpdate()}isUpdating(){return this._strategy.updating||this.updateRequested}};r([a()],t.prototype,"_strategy",void 0),r([a()],t.prototype,"updating",void 0),t=r([m("esri.views.2d.layers.BaseDynamicLayerView2D")],t);const z=t;export{z as default};
